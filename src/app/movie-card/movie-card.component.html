<div class="page-title">
  <h1 style="
      font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
      font-weight: 600; font-style: italic;
      ">
    F L I X - A P P
  </h1>
  <button class="nav-button" (click)="openProfile()">Profile</button>
  <button class="nav-button" (click)="logOut()">Log Out</button>
</div>
<div class="movies-container" style="display: flex; text-align: center;">
  <mat-card *ngFor="let movie of movies; let i = index" style="flex: 1 1 auto; margin:5px;">
    <mat-card-header>
      <mat-card-title style="text-align: center;">
        {{movie.Title}}
      </mat-card-title>
      <mat-card-subtitle>Directed by: {{movie.Director.Name}} </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="img-container">
        <img src={{movie.ImagePath}} alt={{movie.Title}} />
      </div>
    </mat-card-content>
    <mat-card-actions>
      <!-- Synopsis Button -->
      <button mat-button color="primary" id="action-btn" class="synopsis"
        (click)="openMovieDetailsDialog(movie.Title, movie.Description)">
        Synopsis
      </button>

      <!-- Director Button -->
      <button mat-button color="accent" id="action-btn" class="director" (click)="openDirectorDialog(
          movie.Director.Name,
          movie.Director.Bio,
          movie.Director.Birth,
          movie.Director?.Death
        )">
        Director
      </button>

      <!-- Genre Button -->
      <button mat-button color="accent" id="action-btn" class="genre"
        (click)="openGenreDialog(movie.Genre.Name, movie.Genre.Description)">
        Genre
      </button>


      <!-- Favorite Movie Actions -->


      <!-- remove favorite movie  -->
      <button *ngIf="ifFavorite(movie._id); else ifNotFav" mat-button color="warn"
        (click)="removeFavoriteMovie(movie._id)">
        <mat-icon>remove_circle</mat-icon>
      </button>

      <!-- add favorite movie  -->
      <ng-template #ifNotFav>
        <button mat-icon-button color="accent" (click)="addFavoriteMovie(movie._id)">
          <mat-icon>favorite_border</mat-icon>
        </button>
      </ng-template>
    </mat-card-actions>

  </mat-card>
</div>